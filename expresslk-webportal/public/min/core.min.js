var expressCoreApp=angular.module("expressCore",["ui.router","ui.bootstrap","ngSanitize","ngAnimate"]);expressCoreApp.config(["$compileProvider",function(a){a.debugInfoEnabled(!1)}]);try{moment.tz.add("Asia/Colombo|MMT IST IHST IST LKT LKT|-5j.w -5u -60 -6u -6u -60|01231451|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5"),moment.tz.setDefault("Asia/Colombo")}catch(e){console.log(e)}!function(a){function b(){function b(a,b,c){var d=b+e+a;d=d.toLowerCase();var f=g.hasOwnProperty(d);return f===!0&&c&&c.call(this),f}function c(a,b,c){var d=b+e+a,f=h.hasOwnProperty(d);return f===!0&&c&&c.call(this),f}function d(a,b){var c=i.hasOwnProperty(a);return c===!0&&b&&b.call(this),c}var e="/",f=a.ACL_DATA?a.ACL_DATA:{},g=f.ENTITY?f.ENTITY:{},h=f.FRAGMENT?f.FRAGMENT:{},i=f.PERMGROUP?f.PERMGROUP:{};return{Entity:{CanView:"view",CanCreate:"create",CanEdit:"edit",CanDelete:"delete"},Fragment:{CanView:"view",CanRead:"read",CanWrite:"write",CanExecute:"execute"},entityCanView:function(a,c){return b(this.Entity.CanView,a,c)},entityCanCreate:function(a,c){return b(this.Entity.CanCreate,a,c)},entityCanEdit:function(a,c){return b(this.Entity.CanEdit,a,c)},entityCanDelete:function(a,c){return b(this.Entity.CanDelete,a,c)},fragmentCanView:function(a,b){return c(this.Fragment.CanView,a,b)},fragmentCanRead:function(a,b){return c(this.Fragment.CanRead,a,b)},fragmentCanWrite:function(a,b){return c(this.Fragment.CanWrite,a,b)},fragmentCanExecute:function(a,b){return c(this.Fragment.CanExecute,a,b)},fragmentHasPermission:function(a,b,d){return c(a,b,d)},hasPermissionGroup:function(a,b){return d(a,b)}}}a.ACL=b()}(window),angular.module("expressCore").directive("aclFragment",["$window",function(a){return{restrict:"A",link:function(a,b,c){var d=Fragment.Name[c.hasPermission],e=ACL.Fragment[c.aclFragment],f=ACL.fragmentHasPermission(e,d);f?b.show():b.hide()}}}]),angular.module("expressCore").directive("confirmOnExit",function(){return{link:function(a,b,c){var d=c.coeMessage;window.onbeforeunload=function(){if(a.$eval(c.coeIsDirty))return d},a.$on("$locationChangeStart",function(b,e,f){a.$eval(c.coeIsDirty)&&(confirm(d)||b.preventDefault())})}}}),expressCoreApp.directive("attachDatepicker",function(){return{restrict:"A",link:function(a,b,c){var d=$(b);d.datepicker({dateFormat:"yy-mm-dd"})}}}),expressCoreApp.directive("loadingContainer",function(){return{restrict:"A",scope:!1,link:function(a,b,c){var d=angular.element('<div class="loading"></div>'),e=function(a,b){var c=a.position(),d={top:c.top,left:c.left,width:a.width(),height:a.height(),position:"absolute"};b.css(d)};b.append(d),b.addClass("loading-container"),a.$watch(c.loadingContainer,function(a){d.toggleClass("ng-hide",!a),e(b,d)})}}}),angular.module("expressCore").directive("sticky",["$window",function(a){return{link:function(b,c,d){var e=angular.element(a);if(void 0===b._stickyElements){b._stickyElements=[],e.bind("scroll.sticky",function(a){if(!b.$eval(d.deactivateSticky)){var c=e.scrollTop();c+=angular.element(".header-top").outerHeight();for(var f=0;f<b._stickyElements.length;f++){var g=b._stickyElements[f];!g.isStuck&&c>g.start?(g.element.addClass("stuck"),g.isStuck=!0,g.placeholder&&(g.placeholder=angular.element("<div></div>").css({height:g.element.outerHeight()+"px"}).insertBefore(g.element))):g.isStuck&&c<g.start&&(g.element.removeClass("stuck"),g.isStuck=!1,g.placeholder&&(g.placeholder.remove(),g.placeholder=!0))}}});var f=function(){for(var a=0;a<b._stickyElements.length;a++){var c=b._stickyElements[a];c.isStuck?c.placeholder&&(c.start=c.placeholder.offset().top):c.start=c.element.offset().top}};e.bind("load",f),e.bind("resize",f)}var g={element:c,isStuck:!1,placeholder:void 0!==d.usePlaceholder,start:c.offset().top};b._stickyElements.push(g)}}}]),angular.module("expressCore").directive("uiSelectFocusInput",["$timeout",function(a){return{require:"ui-select",link:function(b,c,d,e){function f(){$(c).find(":text").focus()}b.$on("uis:activate",function(){a(f,5),a(f,100),a(f,500),a(f,800)})}}}]);var Util={isMobile:function(){return window.innerWidth<=800},getTimeDifferenceBetween:function(a,b){var c=moment(b).diff(moment(a)),d=moment.duration(c),e=Math.floor(d.asHours())+moment.utc(c).format(":mm:ss");return e.split(":")},getSearchDefaultDate:function(){return moment().format("YYYY-MM-DD")}};angular.module("expressCore").filter("moment",function(){return function(a,b){var c=moment(a);return b?c.format(b):c}}),angular.module("expressCore").filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g].toLowerCase();if(a[g].toString().toLowerCase().indexOf(h)!==-1){d=!0;break}}d&&c.push(a)}):c=a,c}}),angular.module("expressCore").factory("translate",["$injector",function(a){var b={};try{b=a.get("TRANSLATIONS")}catch(c){}return{get:function(a){return b[a]?b[a]:a}}}]);